{"version":3,"file":"pages/list/list.js","mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAfA;AAAA;;AAiBA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;;AAGA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AAcA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AAEA;;;;;;;;;;;;;ACjKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://ybzsTaro/._src_pages_list_list.jsx","webpack://ybzsTaro/./src/pages/list/list.jsx?734b"],"sourcesContent":["import { View,Button } from '@tarojs/components'\nimport Taro, { getCurrentInstance } from '@tarojs/taro'\nimport { useState, useEffect } from 'react'\nimport './list.less'\n\n// eslint-disable-next-line import/first\nimport HeaderNav from 'components/HeaderNav'\n// eslint-disable-next-line import/first\nimport Card from 'components/Card'\n// eslint-disable-next-line import/first\nimport List from 'components/List'\n\n\nfunction ListPage() {\n    const [resObj, $resObj] = useState([\n        // {\n        //     id: 3,\n        //     pic: '',\n        //     f1: '成都第一家公司',\n        //     f2: '成都是打四代是大红色大上课打卡时间到',\n        //     f3: [\n        //         { value: '正常', key: 'NORMAL' },\n        //         { value: '驯养繁殖', key: 'NORMAL' },\n        //     ],\n        //     f4: [\n        //         { value: '动物 2 种 / 12 只' },\n        //         { value: 2 }\n        //     ]\n        // }\n    ])\n\n    // eslint-disable-next-line no-unused-vars\n    const [forListBtn, $forListBtn] = useState([])\n    const [navBtnGroup, $navBtnGroup] = useState([])\n    const [listBtnChoose, $listBtnChoose] = useState(null)\n\n    const chooseListBtn = (buttonName) => {\n        console.log(buttonName)\n        $listBtnChoose(buttonName)\n    }\n\n\n    // 1、当前逻辑为，从台长页面进来，先获取台账列表信息，确定头部导航烂的按钮信息\n    const { router } = getCurrentInstance();\n    const { params } = router;\n    const { routerLevel, type } = router.params\n    useEffect(() => {\n        if(routerLevel == 2) {\n            Taro.request({\n                url: 'http://7yi3w4.natappfree.cc/api/company/companyAccountList',\n                method: 'POST',\n                data: {\n                    id: \"BusinessLedgerPageHandler\",\n                    filterList:[{\n                        key:\"businessStatus\",\n                        operation: \"EQ\",\n                        values: [\"DRAFT\"]\n                    }]\n                },\n                success: function (res) {\n                    console.log(res.data.data.records);\n                    $resObj(res.data.data.records)\n                }\n            })\n                    // Taro.request({\n        //     url: chooseURL(),\n        //     method: 'POST',\n        //     data:\n        //     {\n        //         \"id\": \"AnimalLedgerPageHandler\",\n        //         \"filterList\": [{\n        //             \"key\": \"companyType\",\n        //             \"operation\": \"IN\",\n        //             \"values\": item,\n        //         }],\n        //         \"orderList\": []\n        //     },\n        //     success: function (res) {\n        //         $resObj(res.data.data.records)\n        //     }\n        // })\n\n        }\n        if (routerLevel == 3) {\n            switch (type) {\n                case 'animal':\n                    $navBtnGroup(['物种详情'])\n                    break;\n                case 'business':\n                    $navBtnGroup(['业务台账'])\n                    break;\n            }\n        }\n        else if (routerLevel == 4 && type == 'animal') {\n            switch (type) {\n                case 'animal':\n                    $navBtnGroup([`业务历史`, `企业主页`])\n                    break\n            }\n        }\n    }, [routerLevel, type])\n\n    // 路由方法\n    const routerManager = (data) => {\n            if(routerLevel == 2) {\n                console.log('这里是第二层，是业务登记的首页进来的',data,type)\n                Taro.setStorage({\n                    key: 'animalObj',\n                    data,\n                  });\n                Taro.navigateTo({url: `/pages/detail/detail?routerLevel=3&type=${type}`})\n            }\n            else if (routerLevel == 3) {\n                if (listBtnChoose === '相关业务') {\n                    Taro.navigateTo({ url: '/pages/detail/detail?routerLevel=4&type=business' })\n                }\n                else if (listBtnChoose == '物种列表' ) {\n                    Taro.navigateTo({ url: '/pages/list/list?routerLevel=4&type=animal' })\n                }\n                else {\n                    switch (type) {\n                        case 'animal':\n                            Taro.navigateTo({ url: '/pages/list/list?routerLevel=4&type=animal' })\n                            break;\n                        case 'business':\n                            Taro.navigateTo({ url: '/pages/detail/detail?routerLevel=4&type=business' })\n                    }\n            if (routerLevel == 4) {\n                switch (type) {\n                    case 'animal':\n                        Taro.navigateTo({ url: '/pages/detail/detail?routerLevel=5&type=animal' })\n                        break\n                }\n            }\n        }}\n    }\n\n    return (\n        <View >\n            <HeaderNav navGroup={navBtnGroup} />\n            <View className='page-list-container'>\n            {/* {type !== 'incomeApply' && <Card bgColor='#FFF' />} */}\n            {/* {type !== 'incomeApply' && \n                <List\n                  listSource={resObj}\n                  listType={params.listType}\n                  listNavBtn={\n                    (routerLevel == 3 && type == 'animal' && [{ id: 1, name: '相关企业' }, { id: 2, name: '相关业务' }] )|| \n                    (routerLevel == 3 && type == 'business' && [{ id: 1, name: '业务列表' }, { id: 2, name: '物种列表' }])  || \n                    (routerLevel == 4 && type == 'animal' && [{ id: 1, name: '动物业务历史' }, { id: 2, name: '数量异常' }]) \n                }\n                  routerManager={routerManager}\n                  chooseListBtn={chooseListBtn}\n                />} */}\n                <Button onClick={()=> {console.log(resObj)}}>resObj</Button>\n                <List listSource={resObj} listNavBtn={[]} listType={params.listType} routerManager={routerManager} />\n            </View>\n        </View>\n    )\n}\n\nexport default ListPage\n","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../node_modules/babel-loader/lib/index.js??ruleSet[1].rules[5].use[0]!./list.jsx\"\nvar config = {\"navigationBarTitleText\":\"首页\",\"navigationStyle\":\"custom\"};\n\n\nvar inst = Page(createPageConfig(component, 'pages/list/list', {root:{cn:[]}}, config || {}))\n\n\n"],"names":[],"sourceRoot":""}